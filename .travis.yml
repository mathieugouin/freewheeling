dist:     bionic
language: cpp
compiler: gcc

# TBD why??? if: branch IN (master , development)

before_install:
  - sudo apt-get update -qq
  - sudo apt-get -y build-dep freewheeling
  # build-dep is not sufficient, we need to explicitly install liblo-dev
  - sudo apt-get -y install liblo-dev doxygen graphviz

script:
  - autoreconf -if
  - ./configure
  - make
  - sudo make install
  - make installcheck

  # Documentation
  - doxygen

# Generate and deploy documentation
#deploy:
#  provider: pages
#  skip_cleanup: true
#  local_dir: html
#  github_token: $GH_REPO_TOKEN
#  on:
#    branch: master

